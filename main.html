<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>HexaNotes</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="style.css">
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0ea5e9">
<link rel="icon" href="icon.png">
<script src="https://accounts.google.com/gsi/client" async defer></script>
<script src="https://apis.google.com/js/api.js" async defer></script>
</head>
<body class="bg-gradient-to-br from-slate-50 via-slate-100 to-slate-50 min-h-screen text-slate-800">

<!-- Header -->
<header class="sticky top-0 bg-white/90 backdrop-blur-md shadow-md p-4 flex justify-between items-center z-50">
  <h1 class="text-3xl font-extrabold text-sky-700">ðŸ“’ HexaNotes</h1>
  <div class="flex items-center gap-2">
    <button id="installBtn" class="px-4 py-2 rounded-2xl bg-indigo-500 text-white shadow hover:scale-105 transition transform hidden">Install</button>
    <button id="logoutBtn" class="px-4 py-2 rounded-2xl bg-red-500 text-white shadow hover:scale-105 transition transform">Logout</button>
  </div>
</header>

<!-- Filters -->
<section class="max-w-6xl mx-auto p-4 flex flex-wrap items-center gap-3">
  <input id="searchInput" placeholder="Search notes..." class="flex-1 px-4 py-2 border rounded-2xl shadow focus:outline-none focus:ring-2 focus:ring-sky-400">
  <select id="tagFilter" class="px-4 py-2 border rounded-2xl shadow focus:outline-none focus:ring-2 focus:ring-sky-400">
    <option value="">All Tags</option>
  </select>
</section>

<!-- Main Content -->
<main class="max-w-6xl mx-auto p-4">
  <div id="notesGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
  <p id="emptyState" class="hidden text-center text-slate-500 mt-16 text-lg font-medium">
    No notes yet. Click <span class="font-bold">+ New Note</span> to start.
  </p>
</main>

<!-- Floating Add Note Button -->
<button id="fab" class="fixed bottom-6 right-6 w-16 h-16 rounded-full bg-sky-600 text-white text-3xl shadow-lg flex items-center justify-center hover:bg-sky-700 transition">+</button>

<!-- Note Dialog -->
<dialog id="noteDialog" class="rounded-3xl p-6 w-[min(600px,90vw)] shadow-2xl border border-slate-200">
  <form id="noteForm" method="dialog" class="space-y-4">
    <input type="hidden" id="noteId">
    <input type="hidden" id="noteColor">
    <input type="hidden" id="currentUserId" value="">

    <!-- Title & Content -->
    <input type="text" id="noteTitle" placeholder="Title" class="w-full px-4 py-2 rounded-2xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-sky-400">
    <textarea id="noteContent" placeholder="Content..." class="w-full px-4 py-2 rounded-2xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-sky-400 h-32 resize-none"></textarea>

    <!-- File Upload -->
    <input type="file" id="noteFiles" multiple class="w-full border rounded px-3 py-2">
    <div id="existingFiles" class="flex flex-col gap-1"></div>

    <!-- Tags -->
    <input type="text" id="noteTags" placeholder="Tags (comma separated)" class="w-full px-4 py-2 rounded-2xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-sky-400">

    <!-- Gradient Color Selection -->
    <div class="flex items-center gap-3">
      <label class="font-medium">Color:</label>
      <div id="noteColorOptions" class="flex gap-2">
        <button type="button" data-color="#fef08a" class="color-btn w-10 h-10 rounded-full border border-slate-300" style="background: linear-gradient(135deg, #fef08a, #fbbf24)"></button>
        <button type="button" data-color="#f87171" class="color-btn w-10 h-10 rounded-full border border-slate-300" style="background: linear-gradient(135deg, #f87171, #ef4444)"></button>
        <button type="button" data-color="#38bdf8" class="color-btn w-10 h-10 rounded-full border border-slate-300" style="background: linear-gradient(135deg, #38bdf8, #0ea5e9)"></button>
        <button type="button" data-color="#4ade80" class="color-btn w-10 h-10 rounded-full border border-slate-300" style="background: linear-gradient(135deg, #4ade80, #22c55e)"></button>
        <button type="button" data-color="#c084fc" class="color-btn w-10 h-10 rounded-full border border-slate-300" style="background: linear-gradient(135deg, #c084fc, #9333ea)"></button>
      </div>
    </div>

    <!-- Form Actions -->
    <div class="flex justify-between items-center pt-3">
      <button type="button" id="closeNoteBtn" class="px-4 py-2 rounded-2xl bg-gray-300 text-gray-800 shadow hover:scale-105 transition transform">Close</button>
      <div class="flex gap-3">
        <button type="button" id="deleteNoteBtn" class="px-4 py-2 rounded-2xl bg-red-500 text-white shadow hover:scale-105 transition transform">Delete</button>
        <button type="submit" class="px-4 py-2 rounded-2xl bg-gradient-to-r from-sky-500 to-sky-600 text-white shadow hover:scale-105 transition transform">Save</button>
      </div>
    </div>
  </form>
</dialog>

<!-- App JS -->
<script src="app.js?v=5"></script>

</body>
</html>